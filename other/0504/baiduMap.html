<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>在页面上使用baidu地图示例</title>
	<meta name="viewport" content="initial-scale=1.0,user-scalable=no">
	<script src="http://api.map.baidu.com/api?&v=1.3"></script>
	<script>
		function init(){
			//取得当前地理位置
			navigator.geolocation.getCurrentPosition(onSuccess);

			function onSuccess(position){
				var coords = position.coords;

				//设定地图参数，将用户的当前位置的纬度、经度设定为地图的中心点
				var point = new BMap.Point(coords.longitude, coords.latitude);
				//创建地图并在“map”div中显示
				var map = new BMap.Map("map");
				map.centerAndZoom(point, 14);
				//在地图上创建标记
				var marker = new BMap.Marker(point);
				//设定标注窗口，并指定该窗口中的注释文字
				var infowindow = new BMap.InfoWindow("当前位置！");
				//打开标注窗口
				map.openInfoWindow(infowindow, point);
			}
		}
	</script>
</head>
<body onload="init();">
	<div id="map" style="width:100%;height:400px;"></div>
</body>
</html>