/*from tccdn minify at 2017-3-6 14:48:19,file：/touch/hb/c/bridge.1.1.0.js*/
var ua=navigator.userAgent.toLowerCase();window._tc_bridge_public={platform:null,isTc:null,isLogin:null,isNavbarHidden:null,isGetClientInfo:false,memberId:null,memberInfoCBObj:null,NaEptStr:function(a){return !!(typeof a==="string"&&a.length>0)},NaEptObj:function(b){if(b==null){return false}if(b.length>0){return true}if(b.length===0){return false}for(var a in b){if(hasOwnProperty.call(b,a)){return true}}return false},stringifyAndEncode:function(a){return(typeof a==="string"||this.NaEptObj(a))?encodeURIComponent(JSON.stringify(a)):""},decodeAndParse:function(a){return this.NaEptStr(a)?JSON.parse(decodeURIComponent(a)):{}},buildParamString:function(d,a,b){var c={};c.param=d||null;c.CBPluginName=a||"";c.CBTagName=b||"";return window._tc_bridge_public.stringifyAndEncode(c)},ntvCB:function(e){e=e||"";if(this.NaEptStr(e)){var b=this.decodeAndParse(e),d=b.pluginname,a=b.tagname,c=b.param;if(window[d]&&window[d].hasOwnProperty(a)){return window[d][a](c)}else{}throw"回调web api出错!不存在window._tc_web_*或window._tc_web_*中没有需要回调的方法"}},loadURL:function(c){var b=document.createElement("iframe");var a=document.body||document.documentElement;b.style.display="none";b.setAttribute("src",c);a.appendChild(b);setTimeout(function(){b.parentNode.removeChild(b);b=null},200)},isAppVersionGreatThan:function(b){var d=0;if(/tctravel/.test(ua)){var c=ua.split("/"),a=c.length,e=c[a-1];var e=e.split(".");if(e.length==2){e.push(0)}else{d=parseInt(e.join(""))}}return d>=b},init:function(){var a=window.navigator.userAgent.toLowerCase();if(a.indexOf("iphone")>-1){this.platform=0}if(a.indexOf("ipad")>-1){this.platform=0}if(a.indexOf("android")>-1){this.platform=1}if(a.indexOf("tctravel")!=-1){this.isTc=true}else{this.isTc=false}}};window._tc_bridge_public.init();window._tc_bridge_bar={set_navbar:function(a){var b;if(window._tc_bridge_public.NaEptObj(a)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_bar","set_navbar",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_bar.set_navbar(b)}}}},set_navbar_hidden:function(){var a={},b;a.isNavbarHidden=!window._tc_bridge_public.isNavbarHidden;b=window._tc_bridge_public.buildParamString(a,"_tc_web_bar","set_navbar_hidden");return window._tc_ntv_bar.set_navbar_hidden(b)},set_toolbar_hidden:function(){var a={},b;a.isToolbarHidden=!window._tc_bridge_public.isToolbarHidden;b=window._tc_bridge_public.buildParamString(a,"_tc_web_bar","set_tool_bar");return window._tc_ntv_bar.set_toolbar_hidden(b)},shareInfoFromH5:function(a){if(window._tc_bridge_public.NaEptObj(a)){var b=window._tc_bridge_public.stringifyAndEncode(a);return window._tc_ntv_bar.shareInfoFromH5(b)}throw"分享信息不能为空!"}};window._tc_bridge_util={setwebview_back:function(a){if(window._tc_bridge_public.platform===0){window._tc_bridge_util.getEasyJsUrl("_tc_ntv_bar","set_webview_back",a)}else{_tc_ntv_bar.set_webview_back(a)}},show_dialog:function(c){var b=c.param;var a=window._tc_bridge_public.buildParamString(b,c.CBPluginName,c.CBTagName);if(window._tc_bridge_public.platform===0){window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","show_dialog",a)}else{window._tc_ntv_util.show_dialog(a)}},dispatch:function dispatch(g,f){try{var e=document.createEvent("Event");e.initEvent(f,true,true);g.dispatchEvent(e)}catch(h){alert(h)}},getEasyJsUrl:function(e,d,a){var c=[];c.push("s");c.push(encodeURIComponent(a));var b=(c.length>0?":"+encodeURIComponent(c.join(":")):"");window._tc_bridge_public.loadURL("easy-js:"+e+":"+encodeURIComponent(d+":")+b)},get_data:function(d){var c=d.param;var b=window._tc_bridge_public.buildParamString(c,d.CBPluginName,d.CBTagName);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","get_data",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.get_data(b)}else{return a()}}function a(){$.ajax({type:"post",url:"http://61.155.159.99:8010/youlun/api/apitesthandler.ashx",data:JSON.stringify(c),success:function(e){var f={};f.CBData=e;window[d.CBPluginName][d.CBTagName](f)}})}},set_page:function(c){var b=c.param;var a=window._tc_bridge_public.buildParamString(b,c.CBPluginName,c.CBTagName);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","set_page",a)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.set_page(a)}}},set_event:function(c){var b=c.param;var a=window._tc_bridge_public.buildParamString(b,c.CBPluginName,c.CBTagName);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","set_event",a)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.set_event(a)}}},getClientInfo:function(funBack){var ua=navigator.userAgent,isTc=(/tctravel/i).test(ua);window._tc_bridge_public.isGetClientInfo=false;if(window.Android){var AndroidHandler=eval("("+Android.getDataFromAndroid()+")");if(AndroidHandler){AndroidHandler.isTc=isTc=true;AndroidHandler.client="android";if(!!funBack){funBack(AndroidHandler)}else{window._tc_bridge_util.clientInfoCB(AndroidHandler)}}}document.addEventListener("TongChengWebViewJavascriptBridgeReady",function(event){var bridge=event.bridge,m=0;isTc=true;bridge.init(function(message,responseCallback){});bridge.registerHandler("TongchengJavaScriptHandler",function(data,responseCallback){if(m++==0){data.isTc=isTc;data.client="iphone";if(!!funBack){funBack(data)}else{window._tc_bridge_util.clientInfoCB(data)}}})},false);window.TongChengWindowsPhoneFuncBack=function(message){try{message=eval("("+message+")");if(message){isTc=true;message.isTc=isTc}if(!!funBack){funBack(message)}else{window._tc_bridge_util.clientInfoCB(data)}}catch(e){}};if((/windows phone 8/i).test(ua)){try{window.external.notify("TongChengWindowsPhoneFuncBack")}catch(e){}}window.setTimeout(function(){if(!isTc&&!!funBack){funBack({isTc:isTc})}else{if(!!funBack){window._tc_bridge_util.clientInfoCB({isTc:isTc})}}},1000)},clientInfoCB:function(c){if(window._tc_bridge_public.NaEptObj(c)){window._tc_bridge_public.memberId=c.memberId;window._tc_bridge_public.isGetClientInfo=true}if(window._tc_bridge_public.NaEptObj(window._tc_bridge_public.memberInfoCBObj)){var b={pluginname:window._tc_bridge_public.memberInfoCBObj.CBPluginName,tagname:window._tc_bridge_public.memberInfoCBObj.CBTagName,param:{tagname:window._tc_bridge_public.memberInfoCBObj.param.tagname}};var a={memberInfo:{memberId:window._tc_bridge_public.memberId}};b.param.CBData=JSON.stringify(a);window._tc_bridge_public.ntvCB(window._tc_bridge_public.stringifyAndEncode(b));window._tc_bridge_public.memberInfoCBObj=null}},get_member_info:function(a){window._tc_bridge_public.memberInfoCBObj=a;if(window._tc_bridge_public.isGetClientInfo==true){window.setTimeout(function(){window._tc_bridge_util.clientInfoCB(null)},1)}else{window._tc_bridge_util.getClientInfo()}},upload_photo:function(a){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","upload_photo",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.upload_photo(b)}}},keyword_search:function(a){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","keyword_search",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.keyword_search(b)}}},set_city:function(a){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","set_city",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.set_city(b)}}},set_category_event:function(a){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","set_category_event",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.set_category_event(b)}}},set_webview_info:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(710)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","set_webview_info",b)}else{if(window._tc_bridge_public.platform==1){return null}}}else{return null}},show_tips_dialog:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(720)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","show_tips_dialog",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.show_tips_dialog(b)}}}else{return null}},get_network_type:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(720)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","get_network_type",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.get_network_type(b)}}}else{return null}},set_alarm_info:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(720)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","set_alarm_info",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.set_alarm_info(b)}}}else{return null}},get_alarm_info:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(720)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","get_alarm_info",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.get_alarm_info(b)}}}else{return null}},cancel_alarm_info:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(720)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_util","cancel_alarm_info",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_util.cancel_alarm_info(b)}}}else{return null}},set_tag_jump:function(a){var b="http://shouji.17u.cn/internal_"+a.param.trackTag+"/settag/settag";document.getElementById("returnUrl").href=b;window._tc_bridge_util.dispatch(document.getElementById("returnUrl"),"click")}};window._tc_bridge_map={app_location:function(a){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_map","app_locate",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_map.app_locate(b)}}},show_location:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(720)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_map","show_location",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_map.show_location(b)}}}else{return null}}};window._tc_bridge_user={user_login:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(720)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_user","user_login",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_user.user_login(b)}}}else{return null}},get_device_info:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(720)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_user","get_device_info",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_user.get_device_info(b)}}}else{return null}}};window._tc_bridge_web={open_newurl:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(720)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_web","open_newurl",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_web.open_newurl(b)}}}else{return null}},data_callback:function(a){if(window._tc_bridge_public.isAppVersionGreatThan(720)){var b=window._tc_bridge_public.stringifyAndEncode(a);if(window._tc_bridge_public.platform==0){return window._tc_bridge_util.getEasyJsUrl("_tc_ntv_web","data_callback",b)}else{if(window._tc_bridge_public.platform==1){return window._tc_ntv_web.data_callback(b)}}}else{return null}}};